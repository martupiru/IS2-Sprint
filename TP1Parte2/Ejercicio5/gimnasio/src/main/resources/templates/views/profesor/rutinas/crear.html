<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Crear Rutina</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Fuentes / Iconos -->
    <link href="https://fonts.googleapis.com/css?family=Muli:300,400,700,900" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/fonts/icomoon/style.css}">
    <link rel="stylesheet" th:href="@{/fonts/flaticon/font/flaticon.css}">

    <!-- CSS -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<div class="site-wrap">

    <!-- Navbar Profesor -->
    <nav th:replace="components/navbarProfe :: nav_bar_prof"></nav>

    <main style="padding-top: 120px; background-color:#f8f9fa; min-height:100vh;">
        <div class="container">
            <div class="text-center mb-5">
                <h1 class="display-5 fw-bold text-dark">Crear Nueva Rutina</h1>
            </div>

            <!-- Mensaje de error -->
            <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

            <form th:action="@{/profesor/rutinas/crear}" method="post">
                <div class="mb-3">
                    <label for="idSocio" class="form-label">Socio</label>
                    <select class="form-select" id="idSocio" name="idSocio" required style="color:#212529 !important;">
                        <option th:each="socio : ${socios}" th:value="${socio.id}" th:text="${socio.nombre + ' ' + socio.apellido}"></option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="fechaInicio" class="form-label">Fecha de Inicio</label>
                    <input type="date" class="form-control" id="fechaInicio" name="fechaInicio"
                           th:attr="min=${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}" required
                           style="color:#212529 !important;">
                </div>

                <div class="mb-3">
                    <label for="fechaFinalizacion" class="form-label">Fecha de Finalizaci√≥n</label>
                    <input type="date" class="form-control" id="fechaFinalizacion" name="fechaFinalizacion"
                           th:attr="min=${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}" required
                           style="color:#212529 !important;">
                </div>

                <div class="mb-3">
                    <label class="form-label">Actividades</label>
                    <div id="actividades-container">
                        <input type="text" class="form-control mb-2" name="actividades" placeholder="Nombre de la actividad"
                               required style="color:#212529 !important;">
                    </div>
                    <button type="button" class="btn btn-sm btn-secondary" onclick="agregarActividad()">Agregar otra actividad</button>
                </div>

                <button type="submit" class="btn btn-primary">Crear Rutina</button>
                <a th:href="@{/profesor/rutinas}" class="btn btn-secondary">Cancelar</a>
            </form>
        </div>
    </main>

    <div th:replace="components/footerDash :: footer_dash"></div>
</div>

<script>
    function agregarActividad() {
        const container = document.getElementById('actividades-container');
        const input = document.createElement('input');
        input.type = 'text';
        input.name = 'actividades';
        input.className = 'form-control mb-2';
        input.placeholder = 'Nombre de la actividad';
        input.required = true;
        input.style.color = '#212529';
        container.appendChild(input);
    }
</script>
<script>
    const fechaInicio = document.getElementById('fechaInicio');
    const fechaFinal = document.getElementById('fechaFinalizacion');

    fechaInicio.addEventListener('change', () => {
        fechaFinal.min = fechaInicio.value;
    });
</script>


</body>
</html>
